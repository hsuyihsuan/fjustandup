<script>
    var dom = document.getElementById('sex_distribute');

    let male = {{ all_patient_sex[0]| safe}};
    let female = {{ all_patient_sex[1]| safe}};

    var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });
    var app = {};

    var option;

    option = {
        title: {
            text: '性別分布圖表',
            textStyle: {
                fontSize: 32,
            },
            left: 'center'
        },
        tooltip: {
            trigger: 'item'
        },
        legend: {
            orient: 'vertical',
            left: 'left'
        },
        color: ['#0CAFFF', '#ff5d9e'],

        series: [
            {
                name: 'Access From',
                type: 'pie',
                radius: '60%',
                data: [
                    { name: '男性', value: male },
                    { name: '女性', value: female },
                    // { value: 580, name: 'Email' },
                    // { value: 484, name: 'Union Ads' },
                    // { value: 300, name: 'Video Ads' }
                ],
                // label: {
                //     show: true,
                //     position: 'inside',
                //     textStyle: { fontSize: 18 }
                // },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };

    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
</script>




<script>
    var dom = document.getElementById('age_distribute');

    male_age = {{ all_patient_age[0: 10]| safe }};
    female_age = {{ all_patient_age[10: 20]| safe }};

    var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });
    var app = {};

    var option;

    option = {
        title: {
            text: '年紀分布圖表',
            textStyle: {
                fontSize: 32,
            },
            left: 'center'
        },

        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow'
            }
        },
        legend: {
            orient: 'vertical',
            left: 'left'
        },
        grid: {
            top: '20%',
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                name: '歲數',
                type: 'category',
                data: ['0~9', '10~19', '20~29', '30~39', '40~49', '50~59', '60~69', '70~79', '80~89', '90~99']
            }
        ],
        yAxis: [
            {
                name: '人數',
                type: 'value'
            }
        ],
        series: [
            {
                name: '女性',
                type: 'bar',
                stack: 'Ad',
                emphasis: {
                    focus: 'series'
                },
                data: female_age,
                label: {
                    show: true,
                    position: 'inside',
                    textStyle: { fontSize: 18 }
                },
                color: '#ff5d9e'
            },
            {
                name: '男性',
                type: 'bar',
                stack: 'Ad',
                emphasis: {
                    focus: 'series'
                },
                data: male_age,
                label: {
                    show: true,
                    position: 'inside',
                    textStyle: { fontSize: 18 }
                },
                color: '#0CAFFF'
            }
        ]
    };

    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
</script>



<script>
    var dom = document.getElementById('age_at_onset_distribute');

    male_age_at_onset = {{ all_patient_age_at_onset[0: 10]| safe }};
    female_age_at_onset = {{ all_patient_age_at_onset[10: 20]| safe }};

    var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });
    var app = {};

    var option;

    option = {
        title: {
            text: '發病年紀分布圖表',
            textStyle: {
                fontSize: 32,
            },
            left: 'center'
        },

        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow'
            }
        },
        legend: {
            orient: 'vertical',
            left: 'left'
        },
        grid: {
            top: '20%',
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                name: '歲數',
                type: 'category',
                data: ['0~9', '10~19', '20~29', '30~39', '40~49', '50~59', '60~69', '70~79', '80~89', '90~99']
            }
        ],
        yAxis: [
            {
                name: '人數',
                type: 'value'
            }
        ],
        series: [
            {
                name: '女性',
                type: 'bar',
                stack: 'Ad',
                emphasis: {
                    focus: 'series'
                },
                data: female_age_at_onset,
                label: {
                    show: true,
                    position: 'inside',
                    textStyle: { fontSize: 18 }
                },
                color: '#ff5d9e'
            },
            {
                name: '男性',
                type: 'bar',
                stack: 'Ad',
                emphasis: {
                    focus: 'series'
                },
                data: male_age_at_onset,
                label: {
                    show: true,
                    position: 'inside',
                    textStyle: { fontSize: 18 }
                },
                color: '#0CAFFF'
            }
        ]
    };

    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
</script>





<script>
    var dom = document.getElementById('disease_duration');
    let disease_duration_distribute = {{ all_sex_desease_duration_distribute| safe}};

    var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });
    var app = {};

    var option;

    option = {
        // color: ['#37A2FF', '#FF0087'],
        title: {
            text: '發病時長分布圖表(月)',
            textStyle: {
                fontSize: 32,
            },
            left: 'center'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        legend: {
            data: ['總計'],
            left: 'left'
        },
        toolbox: {
            feature: {
                // saveAsImage: {}
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                name: '月數',
                type: 'category',
                boundaryGap: false,
                data: ['1~60', '61~120', '121~180', '181~240', '241~300', '301~360', '361~420', '421~480', '481~540', '541~600', '601~660', '661~720'],
                // axisTick:{
                //     interval: 1
                //     // show: true,
                //     // length: 
                // },
                axisLabel: {
                    interval: 0
                }
            }
        ],
        yAxis: [
            {
                name: '人數',
                type: 'value'
            }
        ],
        series: [
            {
                name: '總計',
                type: 'line',
                // stack: 'Total',
                smooth: true,
                label: {
                    show: true,
                    position: 'inside',
                    textStyle: { fontSize: 30 }
                },
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        {
                            offset: 0,
                            color: 'rgb(128, 255, 165)'
                        },
                        {
                            offset: 1,
                            color: 'rgb(1, 191, 236)'
                        }
                    ])
                },
                emphasis: {
                    focus: 'series'
                },
                data: disease_duration_distribute
            },
        ]
    };

    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
</script>


<script>
    var dom = document.getElementById('in_hospital');
    let in_hospital_distribute = {{ all_sex_in_hospital_distribute| safe}};

    var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
    });
    var app = {};

    var option;

    option = {
        // color: ['#37A2FF', '#FF0087'],
        title: {
            text: '住院總次數分布圖表',
            textStyle: {
                fontSize: 32,
            },
            left: 'center'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        legend: {
            data: ['總計'],
            left: 'left'
        },
        toolbox: {
            feature: {
                // saveAsImage: {}
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                name: '住院次數',
                type: 'category',
                boundaryGap: false,
                data: ['1~5', '6~10', '11~15', '16~20', '21~25', '26~30', '31~35', '36~40', '41~45', '46~50'],
                // axisTick:{
                //     interval: 1
                //     // show: true,
                //     // length: 
                // },
                axisLabel: {
                    interval: 0
                }
            }
        ],
        yAxis: [
            {
                name: '人數', 
                type: 'value'
            }
        ],
        series: [
            {
                name: '總計',
                type: 'line',
                // stack: 'Total',
                smooth: true,
                label: {
                    show: true,
                    position: 'inside',
                    textStyle: { fontSize: 30 }
                },
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        {
                            offset: 0,
                            color: 'rgb(128, 255, 165)'
                        },
                        {
                            offset: 1,
                            color: 'rgb(1, 191, 236)'
                        }
                    ])
                },
                emphasis: {
                    focus: 'series'
                },
                data: in_hospital_distribute
            },
        ]
    };

    if (option && typeof option === 'object') {
        myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
</script>